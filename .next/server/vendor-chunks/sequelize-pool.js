"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/sequelize-pool";
exports.ids = ["vendor-chunks/sequelize-pool"];
exports.modules = {

/***/ "(rsc)/./node_modules/sequelize-pool/lib/AggregateError.js":
/*!***********************************************************!*\
  !*** ./node_modules/sequelize-pool/lib/AggregateError.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AggregateError = void 0;\nclass AggregateError extends Error {\n    constructor(errors) {\n        super();\n        this.errors = errors;\n        this.name = 'AggregateError';\n    }\n    toString() {\n        const message = `AggregateError of:\\n${this.errors\n            .map((error) => error === this\n            ? '[Circular AggregateError]'\n            : error instanceof AggregateError\n                ? String(error).replace(/\\n$/, '').replace(/^/gm, '  ')\n                : String(error).replace(/^/gm, '    ').substring(2))\n            .join('\\n')}\\n`;\n        return message;\n    }\n}\nexports.AggregateError = AggregateError;\n//# sourceMappingURL=AggregateError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc2VxdWVsaXplLXBvb2wvbGliL0FnZ3JlZ2F0ZUVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlZHdvb2Rmb250Ly4vbm9kZV9tb2R1bGVzL3NlcXVlbGl6ZS1wb29sL2xpYi9BZ2dyZWdhdGVFcnJvci5qcz9iZTc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BZ2dyZWdhdGVFcnJvciA9IHZvaWQgMDtcbmNsYXNzIEFnZ3JlZ2F0ZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm9ycykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FnZ3JlZ2F0ZUVycm9yJztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgQWdncmVnYXRlRXJyb3Igb2Y6XFxuJHt0aGlzLmVycm9yc1xuICAgICAgICAgICAgLm1hcCgoZXJyb3IpID0+IGVycm9yID09PSB0aGlzXG4gICAgICAgICAgICA/ICdbQ2lyY3VsYXIgQWdncmVnYXRlRXJyb3JdJ1xuICAgICAgICAgICAgOiBlcnJvciBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUVycm9yXG4gICAgICAgICAgICAgICAgPyBTdHJpbmcoZXJyb3IpLnJlcGxhY2UoL1xcbiQvLCAnJykucmVwbGFjZSgvXi9nbSwgJyAgJylcbiAgICAgICAgICAgICAgICA6IFN0cmluZyhlcnJvcikucmVwbGFjZSgvXi9nbSwgJyAgICAnKS5zdWJzdHJpbmcoMikpXG4gICAgICAgICAgICAuam9pbignXFxuJyl9XFxuYDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0cy5BZ2dyZWdhdGVFcnJvciA9IEFnZ3JlZ2F0ZUVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWdncmVnYXRlRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/sequelize-pool/lib/AggregateError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/sequelize-pool/lib/Deferred.js":
/*!*****************************************************!*\
  !*** ./node_modules/sequelize-pool/lib/Deferred.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Deferred = void 0;\nconst TimeoutError_1 = __webpack_require__(/*! ./TimeoutError */ \"(rsc)/./node_modules/sequelize-pool/lib/TimeoutError.js\");\nclass Deferred {\n    constructor() {\n        this._promise = new Promise((resolve, reject) => {\n            this._reject = reject;\n            this._resolve = resolve;\n        });\n    }\n    registerTimeout(timeoutInMillis, callback) {\n        if (this._timeout)\n            return;\n        this._timeout = setTimeout(() => {\n            callback();\n            this.reject(new TimeoutError_1.TimeoutError('Operation timeout'));\n        }, timeoutInMillis);\n    }\n    _clearTimeout() {\n        if (!this._timeout)\n            return;\n        clearTimeout(this._timeout);\n    }\n    resolve(value) {\n        this._clearTimeout();\n        this._resolve(value);\n    }\n    reject(error) {\n        this._clearTimeout();\n        this._reject(error);\n    }\n    promise() {\n        return this._promise;\n    }\n}\nexports.Deferred = Deferred;\n//# sourceMappingURL=Deferred.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc2VxdWVsaXplLXBvb2wvbGliL0RlZmVycmVkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQix1QkFBdUIsbUJBQU8sQ0FBQywrRUFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWR3b29kZm9udC8uL25vZGVfbW9kdWxlcy9zZXF1ZWxpemUtcG9vbC9saWIvRGVmZXJyZWQuanM/N2MwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGVmZXJyZWQgPSB2b2lkIDA7XG5jb25zdCBUaW1lb3V0RXJyb3JfMSA9IHJlcXVpcmUoXCIuL1RpbWVvdXRFcnJvclwiKTtcbmNsYXNzIERlZmVycmVkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJUaW1lb3V0KHRpbWVvdXRJbk1pbGxpcywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVvdXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzLnJlamVjdChuZXcgVGltZW91dEVycm9yXzEuVGltZW91dEVycm9yKCdPcGVyYXRpb24gdGltZW91dCcpKTtcbiAgICAgICAgfSwgdGltZW91dEluTWlsbGlzKTtcbiAgICB9XG4gICAgX2NsZWFyVGltZW91dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90aW1lb3V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgfVxuICAgIHJlc29sdmUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fY2xlYXJUaW1lb3V0KCk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUodmFsdWUpO1xuICAgIH1cbiAgICByZWplY3QoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fY2xlYXJUaW1lb3V0KCk7XG4gICAgICAgIHRoaXMuX3JlamVjdChlcnJvcik7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuRGVmZXJyZWQgPSBEZWZlcnJlZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmVycmVkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/sequelize-pool/lib/Deferred.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/sequelize-pool/lib/Pool.js":
/*!*************************************************!*\
  !*** ./node_modules/sequelize-pool/lib/Pool.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pool = void 0;\nconst Deferred_1 = __webpack_require__(/*! ./Deferred */ \"(rsc)/./node_modules/sequelize-pool/lib/Deferred.js\");\nconst AggregateError_1 = __webpack_require__(/*! ./AggregateError */ \"(rsc)/./node_modules/sequelize-pool/lib/AggregateError.js\");\nclass Pool {\n    constructor(factory) {\n        this.log = false;\n        if (!factory.create) {\n            throw new Error('create function is required');\n        }\n        if (!factory.destroy) {\n            throw new Error('destroy function is required');\n        }\n        if (!factory.validate) {\n            throw new Error('validate function is required');\n        }\n        if (typeof factory.min !== 'number' ||\n            factory.min < 0 ||\n            factory.min !== Math.round(factory.min)) {\n            throw new Error('min must be an integer >= 0');\n        }\n        if (typeof factory.max !== 'number' ||\n            factory.max <= 0 ||\n            factory.max !== Math.round(factory.max)) {\n            throw new Error('max must be an integer > 0');\n        }\n        if (factory.min > factory.max) {\n            throw new Error('max is smaller than min');\n        }\n        if (factory.maxUses !== undefined &&\n            (typeof factory.maxUses !== 'number' || factory.maxUses < 0)) {\n            throw new Error('maxUses must be an integer >= 0');\n        }\n        this.idleTimeoutMillis = factory.idleTimeoutMillis || 30000;\n        this.acquireTimeoutMillis = factory.acquireTimeoutMillis || 30000;\n        this.reapIntervalMillis = factory.reapIntervalMillis || 1000;\n        this.maxUsesPerResource = factory.maxUses || Infinity;\n        this.log = factory.log || false;\n        this._factory = factory;\n        this._count = 0;\n        this._draining = false;\n        this._pendingAcquires = [];\n        this._inUseObjects = [];\n        this._availableObjects = [];\n        this._removeIdleScheduled = false;\n    }\n    get size() {\n        return this._count;\n    }\n    get name() {\n        return this._factory.name;\n    }\n    get available() {\n        return this._availableObjects.length;\n    }\n    get using() {\n        return this._inUseObjects.length;\n    }\n    get waiting() {\n        return this._pendingAcquires.length;\n    }\n    get maxSize() {\n        return this._factory.max;\n    }\n    get minSize() {\n        return this._factory.min;\n    }\n    _log(message, level) {\n        if (typeof this.log === 'function') {\n            this.log(message, level);\n        }\n        else if (this.log) {\n            console.log(`${level.toUpperCase()} pool ${this.name || ''} - ${message}`);\n        }\n    }\n    _removeIdle() {\n        const toRemove = [];\n        const now = Date.now();\n        let i;\n        let available = this._availableObjects.length;\n        const maxRemovable = this.size - this.minSize;\n        let timeout;\n        this._removeIdleScheduled = false;\n        for (i = 0; i < available && maxRemovable > toRemove.length; i++) {\n            timeout = this._availableObjects[i].timeout;\n            if (now >= timeout) {\n                this._log('removeIdle() destroying obj - now:' + now + ' timeout:' + timeout, 'verbose');\n                toRemove.push(this._availableObjects[i].resource);\n            }\n        }\n        toRemove.forEach(this.destroy, this);\n        available = this._availableObjects.length;\n        if (available > 0) {\n            this._log('this._availableObjects.length=' + available, 'verbose');\n            this._scheduleRemoveIdle();\n        }\n        else {\n            this._log('removeIdle() all objects removed', 'verbose');\n        }\n    }\n    _scheduleRemoveIdle() {\n        if (!this._removeIdleScheduled) {\n            this._removeIdleScheduled = true;\n            this._removeIdleTimer = setTimeout(() => {\n                this._removeIdle();\n            }, this.reapIntervalMillis);\n        }\n    }\n    _dispense() {\n        let wrappedResource = null;\n        const waitingCount = this._pendingAcquires.length;\n        this._log(`dispense() clients=${waitingCount} available=${this._availableObjects.length}`, 'info');\n        if (waitingCount < 1) {\n            return;\n        }\n        while (this._availableObjects.length > 0) {\n            this._log('dispense() - reusing obj', 'verbose');\n            wrappedResource = this._availableObjects[this._availableObjects.length - 1];\n            if (!this._factory.validate(wrappedResource.resource)) {\n                this.destroy(wrappedResource.resource);\n                continue;\n            }\n            this._availableObjects.pop();\n            this._addResourceToInUseObjects(wrappedResource.resource, wrappedResource.useCount);\n            const deferred = this._pendingAcquires.shift();\n            return deferred.resolve(wrappedResource.resource);\n        }\n        if (this.size < this.maxSize) {\n            this._createResource();\n        }\n    }\n    _createResource() {\n        this._count += 1;\n        this._log(`createResource() - creating obj - count=${this.size} min=${this.minSize} max=${this.maxSize}`, 'verbose');\n        this._factory\n            .create()\n            .then((resource) => {\n            const deferred = this._pendingAcquires.shift();\n            if (deferred) {\n                this._addResourceToInUseObjects(resource, 0);\n                deferred.resolve(resource);\n            }\n            else {\n                this._addResourceToAvailableObjects(resource, 0);\n            }\n        })\n            .catch((error) => {\n            const deferred = this._pendingAcquires.shift();\n            this._count -= 1;\n            if (this._count < 0)\n                this._count = 0;\n            if (deferred) {\n                deferred.reject(error);\n            }\n            process.nextTick(() => {\n                this._dispense();\n            });\n        });\n    }\n    _addResourceToAvailableObjects(resource, useCount) {\n        const wrappedResource = {\n            resource: resource,\n            useCount: useCount,\n            timeout: Date.now() + this.idleTimeoutMillis,\n        };\n        this._availableObjects.push(wrappedResource);\n        this._dispense();\n        this._scheduleRemoveIdle();\n    }\n    _addResourceToInUseObjects(resource, useCount) {\n        const wrappedResource = {\n            resource: resource,\n            useCount: useCount,\n        };\n        this._inUseObjects.push(wrappedResource);\n    }\n    _ensureMinimum() {\n        let i, diff;\n        if (!this._draining && this.size < this.minSize) {\n            diff = this.minSize - this.size;\n            for (i = 0; i < diff; i++) {\n                this._createResource();\n            }\n        }\n    }\n    acquire() {\n        if (this._draining) {\n            return Promise.reject(new Error('pool is draining and cannot accept work'));\n        }\n        const deferred = new Deferred_1.Deferred();\n        deferred.registerTimeout(this.acquireTimeoutMillis, () => {\n            this._pendingAcquires = this._pendingAcquires.filter((pending) => pending !== deferred);\n        });\n        this._pendingAcquires.push(deferred);\n        this._dispense();\n        return deferred.promise();\n    }\n    release(resource) {\n        if (this._availableObjects.some((resourceWithTimeout) => resourceWithTimeout.resource === resource)) {\n            this._log('release called twice for the same resource: ' + new Error().stack, 'error');\n            return;\n        }\n        const index = this._inUseObjects.findIndex((wrappedResource) => wrappedResource.resource === resource);\n        if (index < 0) {\n            this._log('attempt to release an invalid resource: ' + new Error().stack, 'error');\n            return;\n        }\n        const wrappedResource = this._inUseObjects[index];\n        wrappedResource.useCount += 1;\n        if (wrappedResource.useCount >= this.maxUsesPerResource) {\n            this._log('release() destroying obj - useCount:' +\n                wrappedResource.useCount +\n                ' maxUsesPerResource:' +\n                this.maxUsesPerResource, 'verbose');\n            this.destroy(wrappedResource.resource);\n            this._dispense();\n        }\n        else {\n            this._inUseObjects.splice(index, 1);\n            this._addResourceToAvailableObjects(wrappedResource.resource, wrappedResource.useCount);\n        }\n    }\n    async destroy(resource) {\n        const available = this._availableObjects.length;\n        const using = this._inUseObjects.length;\n        this._availableObjects = this._availableObjects.filter((object) => object.resource !== resource);\n        this._inUseObjects = this._inUseObjects.filter((object) => object.resource !== resource);\n        if (available === this._availableObjects.length &&\n            using === this._inUseObjects.length) {\n            this._ensureMinimum();\n            return;\n        }\n        this._count -= 1;\n        if (this._count < 0)\n            this._count = 0;\n        try {\n            await this._factory.destroy(resource);\n        }\n        finally {\n            this._ensureMinimum();\n            if (!this._draining) {\n                process.nextTick(() => {\n                    this._dispense();\n                });\n            }\n        }\n    }\n    drain() {\n        this._log('draining', 'info');\n        this._draining = true;\n        const check = (callback) => {\n            if (this._pendingAcquires.length > 0) {\n                this._dispense();\n                setTimeout(() => {\n                    check(callback);\n                }, 100);\n                return;\n            }\n            if (this._availableObjects.length !== this._count) {\n                setTimeout(() => {\n                    check(callback);\n                }, 100);\n                return;\n            }\n            callback();\n        };\n        return new Promise((resolve) => check(resolve));\n    }\n    async destroyAllNow() {\n        this._log('force destroying all objects', 'info');\n        this._removeIdleScheduled = false;\n        clearTimeout(this._removeIdleTimer);\n        const resources = this._availableObjects.map((resource) => resource.resource);\n        const errors = [];\n        for (const resource of resources) {\n            try {\n                await this.destroy(resource);\n            }\n            catch (ex) {\n                this._log('Error destroying resource: ' + ex.stack, 'error');\n                errors.push(ex);\n            }\n        }\n        if (errors.length > 0) {\n            throw new AggregateError_1.AggregateError(errors);\n        }\n    }\n}\nexports.Pool = Pool;\n//# sourceMappingURL=Pool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc2VxdWVsaXplLXBvb2wvbGliL1Bvb2wuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLG1CQUFtQixtQkFBTyxDQUFDLHVFQUFZO0FBQ3ZDLHlCQUF5QixtQkFBTyxDQUFDLG1GQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFCQUFxQixPQUFPLGlCQUFpQixJQUFJLFFBQVE7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaURBQWlEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGNBQWMsWUFBWSw4QkFBOEI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELFdBQVcsTUFBTSxjQUFjLE1BQU0sYUFBYTtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlZHdvb2Rmb250Ly4vbm9kZV9tb2R1bGVzL3NlcXVlbGl6ZS1wb29sL2xpYi9Qb29sLmpzPzExMmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvb2wgPSB2b2lkIDA7XG5jb25zdCBEZWZlcnJlZF8xID0gcmVxdWlyZShcIi4vRGVmZXJyZWRcIik7XG5jb25zdCBBZ2dyZWdhdGVFcnJvcl8xID0gcmVxdWlyZShcIi4vQWdncmVnYXRlRXJyb3JcIik7XG5jbGFzcyBQb29sIHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgICAgIHRoaXMubG9nID0gZmFsc2U7XG4gICAgICAgIGlmICghZmFjdG9yeS5jcmVhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlIGZ1bmN0aW9uIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmYWN0b3J5LmRlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZGVzdHJveSBmdW5jdGlvbiBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmFjdG9yeS52YWxpZGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YWxpZGF0ZSBmdW5jdGlvbiBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZmFjdG9yeS5taW4gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICBmYWN0b3J5Lm1pbiA8IDAgfHxcbiAgICAgICAgICAgIGZhY3RvcnkubWluICE9PSBNYXRoLnJvdW5kKGZhY3RvcnkubWluKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtaW4gbXVzdCBiZSBhbiBpbnRlZ2VyID49IDAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZhY3RvcnkubWF4ICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgZmFjdG9yeS5tYXggPD0gMCB8fFxuICAgICAgICAgICAgZmFjdG9yeS5tYXggIT09IE1hdGgucm91bmQoZmFjdG9yeS5tYXgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21heCBtdXN0IGJlIGFuIGludGVnZXIgPiAwJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZhY3RvcnkubWluID4gZmFjdG9yeS5tYXgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF4IGlzIHNtYWxsZXIgdGhhbiBtaW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmFjdG9yeS5tYXhVc2VzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICh0eXBlb2YgZmFjdG9yeS5tYXhVc2VzICE9PSAnbnVtYmVyJyB8fCBmYWN0b3J5Lm1heFVzZXMgPCAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXhVc2VzIG11c3QgYmUgYW4gaW50ZWdlciA+PSAwJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZGxlVGltZW91dE1pbGxpcyA9IGZhY3RvcnkuaWRsZVRpbWVvdXRNaWxsaXMgfHwgMzAwMDA7XG4gICAgICAgIHRoaXMuYWNxdWlyZVRpbWVvdXRNaWxsaXMgPSBmYWN0b3J5LmFjcXVpcmVUaW1lb3V0TWlsbGlzIHx8IDMwMDAwO1xuICAgICAgICB0aGlzLnJlYXBJbnRlcnZhbE1pbGxpcyA9IGZhY3RvcnkucmVhcEludGVydmFsTWlsbGlzIHx8IDEwMDA7XG4gICAgICAgIHRoaXMubWF4VXNlc1BlclJlc291cmNlID0gZmFjdG9yeS5tYXhVc2VzIHx8IEluZmluaXR5O1xuICAgICAgICB0aGlzLmxvZyA9IGZhY3RvcnkubG9nIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy5fY291bnQgPSAwO1xuICAgICAgICB0aGlzLl9kcmFpbmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQWNxdWlyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5faW5Vc2VPYmplY3RzID0gW107XG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50O1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhY3RvcnkubmFtZTtcbiAgICB9XG4gICAgZ2V0IGF2YWlsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgdXNpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pblVzZU9iamVjdHMubGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgd2FpdGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdBY3F1aXJlcy5sZW5ndGg7XG4gICAgfVxuICAgIGdldCBtYXhTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmFjdG9yeS5tYXg7XG4gICAgfVxuICAgIGdldCBtaW5TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmFjdG9yeS5taW47XG4gICAgfVxuICAgIF9sb2cobWVzc2FnZSwgbGV2ZWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmxvZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5sb2cobWVzc2FnZSwgbGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubG9nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtsZXZlbC50b1VwcGVyQ2FzZSgpfSBwb29sICR7dGhpcy5uYW1lIHx8ICcnfSAtICR7bWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVtb3ZlSWRsZSgpIHtcbiAgICAgICAgY29uc3QgdG9SZW1vdmUgPSBbXTtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBhdmFpbGFibGUgPSB0aGlzLl9hdmFpbGFibGVPYmplY3RzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbWF4UmVtb3ZhYmxlID0gdGhpcy5zaXplIC0gdGhpcy5taW5TaXplO1xuICAgICAgICBsZXQgdGltZW91dDtcbiAgICAgICAgdGhpcy5fcmVtb3ZlSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXZhaWxhYmxlICYmIG1heFJlbW92YWJsZSA+IHRvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gdGhpcy5fYXZhaWxhYmxlT2JqZWN0c1tpXS50aW1lb3V0O1xuICAgICAgICAgICAgaWYgKG5vdyA+PSB0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdyZW1vdmVJZGxlKCkgZGVzdHJveWluZyBvYmogLSBub3c6JyArIG5vdyArICcgdGltZW91dDonICsgdGltZW91dCwgJ3ZlcmJvc2UnKTtcbiAgICAgICAgICAgICAgICB0b1JlbW92ZS5wdXNoKHRoaXMuX2F2YWlsYWJsZU9iamVjdHNbaV0ucmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRvUmVtb3ZlLmZvckVhY2godGhpcy5kZXN0cm95LCB0aGlzKTtcbiAgICAgICAgYXZhaWxhYmxlID0gdGhpcy5fYXZhaWxhYmxlT2JqZWN0cy5sZW5ndGg7XG4gICAgICAgIGlmIChhdmFpbGFibGUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2coJ3RoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoPScgKyBhdmFpbGFibGUsICd2ZXJib3NlJyk7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZVJlbW92ZUlkbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZygncmVtb3ZlSWRsZSgpIGFsbCBvYmplY3RzIHJlbW92ZWQnLCAndmVyYm9zZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zY2hlZHVsZVJlbW92ZUlkbGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVtb3ZlSWRsZVNjaGVkdWxlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlSWRsZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVJZGxlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVJZGxlKCk7XG4gICAgICAgICAgICB9LCB0aGlzLnJlYXBJbnRlcnZhbE1pbGxpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Rpc3BlbnNlKCkge1xuICAgICAgICBsZXQgd3JhcHBlZFJlc291cmNlID0gbnVsbDtcbiAgICAgICAgY29uc3Qgd2FpdGluZ0NvdW50ID0gdGhpcy5fcGVuZGluZ0FjcXVpcmVzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fbG9nKGBkaXNwZW5zZSgpIGNsaWVudHM9JHt3YWl0aW5nQ291bnR9IGF2YWlsYWJsZT0ke3RoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RofWAsICdpbmZvJyk7XG4gICAgICAgIGlmICh3YWl0aW5nQ291bnQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbG9nKCdkaXNwZW5zZSgpIC0gcmV1c2luZyBvYmonLCAndmVyYm9zZScpO1xuICAgICAgICAgICAgd3JhcHBlZFJlc291cmNlID0gdGhpcy5fYXZhaWxhYmxlT2JqZWN0c1t0aGlzLl9hdmFpbGFibGVPYmplY3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9mYWN0b3J5LnZhbGlkYXRlKHdyYXBwZWRSZXNvdXJjZS5yZXNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kod3JhcHBlZFJlc291cmNlLnJlc291cmNlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRSZXNvdXJjZVRvSW5Vc2VPYmplY3RzKHdyYXBwZWRSZXNvdXJjZS5yZXNvdXJjZSwgd3JhcHBlZFJlc291cmNlLnVzZUNvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkID0gdGhpcy5fcGVuZGluZ0FjcXVpcmVzLnNoaWZ0KCk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVzb2x2ZSh3cmFwcGVkUmVzb3VyY2UucmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNpemUgPCB0aGlzLm1heFNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVJlc291cmNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZVJlc291cmNlKCkge1xuICAgICAgICB0aGlzLl9jb3VudCArPSAxO1xuICAgICAgICB0aGlzLl9sb2coYGNyZWF0ZVJlc291cmNlKCkgLSBjcmVhdGluZyBvYmogLSBjb3VudD0ke3RoaXMuc2l6ZX0gbWluPSR7dGhpcy5taW5TaXplfSBtYXg9JHt0aGlzLm1heFNpemV9YCwgJ3ZlcmJvc2UnKTtcbiAgICAgICAgdGhpcy5fZmFjdG9yeVxuICAgICAgICAgICAgLmNyZWF0ZSgpXG4gICAgICAgICAgICAudGhlbigocmVzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkID0gdGhpcy5fcGVuZGluZ0FjcXVpcmVzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoZGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRSZXNvdXJjZVRvSW5Vc2VPYmplY3RzKHJlc291cmNlLCAwKTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZFJlc291cmNlVG9BdmFpbGFibGVPYmplY3RzKHJlc291cmNlLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkID0gdGhpcy5fcGVuZGluZ0FjcXVpcmVzLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLl9jb3VudCAtPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvdW50IDwgMClcbiAgICAgICAgICAgICAgICB0aGlzLl9jb3VudCA9IDA7XG4gICAgICAgICAgICBpZiAoZGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGVuc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZFJlc291cmNlVG9BdmFpbGFibGVPYmplY3RzKHJlc291cmNlLCB1c2VDb3VudCkge1xuICAgICAgICBjb25zdCB3cmFwcGVkUmVzb3VyY2UgPSB7XG4gICAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICB1c2VDb3VudDogdXNlQ291bnQsXG4gICAgICAgICAgICB0aW1lb3V0OiBEYXRlLm5vdygpICsgdGhpcy5pZGxlVGltZW91dE1pbGxpcyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlT2JqZWN0cy5wdXNoKHdyYXBwZWRSZXNvdXJjZSk7XG4gICAgICAgIHRoaXMuX2Rpc3BlbnNlKCk7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlUmVtb3ZlSWRsZSgpO1xuICAgIH1cbiAgICBfYWRkUmVzb3VyY2VUb0luVXNlT2JqZWN0cyhyZXNvdXJjZSwgdXNlQ291bnQpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZFJlc291cmNlID0ge1xuICAgICAgICAgICAgcmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgdXNlQ291bnQ6IHVzZUNvdW50LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9pblVzZU9iamVjdHMucHVzaCh3cmFwcGVkUmVzb3VyY2UpO1xuICAgIH1cbiAgICBfZW5zdXJlTWluaW11bSgpIHtcbiAgICAgICAgbGV0IGksIGRpZmY7XG4gICAgICAgIGlmICghdGhpcy5fZHJhaW5pbmcgJiYgdGhpcy5zaXplIDwgdGhpcy5taW5TaXplKSB7XG4gICAgICAgICAgICBkaWZmID0gdGhpcy5taW5TaXplIC0gdGhpcy5zaXplO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpZmY7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVJlc291cmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWNxdWlyZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RyYWluaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdwb29sIGlzIGRyYWluaW5nIGFuZCBjYW5ub3QgYWNjZXB0IHdvcmsnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWRfMS5EZWZlcnJlZCgpO1xuICAgICAgICBkZWZlcnJlZC5yZWdpc3RlclRpbWVvdXQodGhpcy5hY3F1aXJlVGltZW91dE1pbGxpcywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0FjcXVpcmVzID0gdGhpcy5fcGVuZGluZ0FjcXVpcmVzLmZpbHRlcigocGVuZGluZykgPT4gcGVuZGluZyAhPT0gZGVmZXJyZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0FjcXVpcmVzLnB1c2goZGVmZXJyZWQpO1xuICAgICAgICB0aGlzLl9kaXNwZW5zZSgpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuICAgIH1cbiAgICByZWxlYXNlKHJlc291cmNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdmFpbGFibGVPYmplY3RzLnNvbWUoKHJlc291cmNlV2l0aFRpbWVvdXQpID0+IHJlc291cmNlV2l0aFRpbWVvdXQucmVzb3VyY2UgPT09IHJlc291cmNlKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nKCdyZWxlYXNlIGNhbGxlZCB0d2ljZSBmb3IgdGhlIHNhbWUgcmVzb3VyY2U6ICcgKyBuZXcgRXJyb3IoKS5zdGFjaywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9pblVzZU9iamVjdHMuZmluZEluZGV4KCh3cmFwcGVkUmVzb3VyY2UpID0+IHdyYXBwZWRSZXNvdXJjZS5yZXNvdXJjZSA9PT0gcmVzb3VyY2UpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2coJ2F0dGVtcHQgdG8gcmVsZWFzZSBhbiBpbnZhbGlkIHJlc291cmNlOiAnICsgbmV3IEVycm9yKCkuc3RhY2ssICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdyYXBwZWRSZXNvdXJjZSA9IHRoaXMuX2luVXNlT2JqZWN0c1tpbmRleF07XG4gICAgICAgIHdyYXBwZWRSZXNvdXJjZS51c2VDb3VudCArPSAxO1xuICAgICAgICBpZiAod3JhcHBlZFJlc291cmNlLnVzZUNvdW50ID49IHRoaXMubWF4VXNlc1BlclJlc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2coJ3JlbGVhc2UoKSBkZXN0cm95aW5nIG9iaiAtIHVzZUNvdW50OicgK1xuICAgICAgICAgICAgICAgIHdyYXBwZWRSZXNvdXJjZS51c2VDb3VudCArXG4gICAgICAgICAgICAgICAgJyBtYXhVc2VzUGVyUmVzb3VyY2U6JyArXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhVc2VzUGVyUmVzb3VyY2UsICd2ZXJib3NlJyk7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kod3JhcHBlZFJlc291cmNlLnJlc291cmNlKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BlbnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pblVzZU9iamVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFJlc291cmNlVG9BdmFpbGFibGVPYmplY3RzKHdyYXBwZWRSZXNvdXJjZS5yZXNvdXJjZSwgd3JhcHBlZFJlc291cmNlLnVzZUNvdW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBkZXN0cm95KHJlc291cmNlKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZSA9IHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoO1xuICAgICAgICBjb25zdCB1c2luZyA9IHRoaXMuX2luVXNlT2JqZWN0cy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMgPSB0aGlzLl9hdmFpbGFibGVPYmplY3RzLmZpbHRlcigob2JqZWN0KSA9PiBvYmplY3QucmVzb3VyY2UgIT09IHJlc291cmNlKTtcbiAgICAgICAgdGhpcy5faW5Vc2VPYmplY3RzID0gdGhpcy5faW5Vc2VPYmplY3RzLmZpbHRlcigob2JqZWN0KSA9PiBvYmplY3QucmVzb3VyY2UgIT09IHJlc291cmNlKTtcbiAgICAgICAgaWYgKGF2YWlsYWJsZSA9PT0gdGhpcy5fYXZhaWxhYmxlT2JqZWN0cy5sZW5ndGggJiZcbiAgICAgICAgICAgIHVzaW5nID09PSB0aGlzLl9pblVzZU9iamVjdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9lbnN1cmVNaW5pbXVtKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMuX2NvdW50IDwgMClcbiAgICAgICAgICAgIHRoaXMuX2NvdW50ID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2ZhY3RvcnkuZGVzdHJveShyZXNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9lbnN1cmVNaW5pbXVtKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RyYWluaW5nKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BlbnNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhaW4oKSB7XG4gICAgICAgIHRoaXMuX2xvZygnZHJhaW5pbmcnLCAnaW5mbycpO1xuICAgICAgICB0aGlzLl9kcmFpbmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0FjcXVpcmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwZW5zZSgpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGVjayhjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fYXZhaWxhYmxlT2JqZWN0cy5sZW5ndGggIT09IHRoaXMuX2NvdW50KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gY2hlY2socmVzb2x2ZSkpO1xuICAgIH1cbiAgICBhc3luYyBkZXN0cm95QWxsTm93KCkge1xuICAgICAgICB0aGlzLl9sb2coJ2ZvcmNlIGRlc3Ryb3lpbmcgYWxsIG9iamVjdHMnLCAnaW5mbycpO1xuICAgICAgICB0aGlzLl9yZW1vdmVJZGxlU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZW1vdmVJZGxlVGltZXIpO1xuICAgICAgICBjb25zdCByZXNvdXJjZXMgPSB0aGlzLl9hdmFpbGFibGVPYmplY3RzLm1hcCgocmVzb3VyY2UpID0+IHJlc291cmNlLnJlc291cmNlKTtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgcmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVzdHJveShyZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ0Vycm9yIGRlc3Ryb3lpbmcgcmVzb3VyY2U6ICcgKyBleC5zdGFjaywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFnZ3JlZ2F0ZUVycm9yXzEuQWdncmVnYXRlRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUG9vbCA9IFBvb2w7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb29sLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/sequelize-pool/lib/Pool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/sequelize-pool/lib/TimeoutError.js":
/*!*********************************************************!*\
  !*** ./node_modules/sequelize-pool/lib/TimeoutError.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TimeoutError = void 0;\nclass TimeoutError extends Error {\n}\nexports.TimeoutError = TimeoutError;\n//# sourceMappingURL=TimeoutError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc2VxdWVsaXplLXBvb2wvbGliL1RpbWVvdXRFcnJvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlZHdvb2Rmb250Ly4vbm9kZV9tb2R1bGVzL3NlcXVlbGl6ZS1wb29sL2xpYi9UaW1lb3V0RXJyb3IuanM/OWJiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGltZW91dEVycm9yID0gdm9pZCAwO1xuY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuZXhwb3J0cy5UaW1lb3V0RXJyb3IgPSBUaW1lb3V0RXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lb3V0RXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/sequelize-pool/lib/TimeoutError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/sequelize-pool/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/sequelize-pool/lib/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pool = exports.AggregateError = exports.TimeoutError = void 0;\nvar TimeoutError_1 = __webpack_require__(/*! ./TimeoutError */ \"(rsc)/./node_modules/sequelize-pool/lib/TimeoutError.js\");\nObject.defineProperty(exports, \"TimeoutError\", ({ enumerable: true, get: function () { return TimeoutError_1.TimeoutError; } }));\nvar AggregateError_1 = __webpack_require__(/*! ./AggregateError */ \"(rsc)/./node_modules/sequelize-pool/lib/AggregateError.js\");\nObject.defineProperty(exports, \"AggregateError\", ({ enumerable: true, get: function () { return AggregateError_1.AggregateError; } }));\nvar Pool_1 = __webpack_require__(/*! ./Pool */ \"(rsc)/./node_modules/sequelize-pool/lib/Pool.js\");\nObject.defineProperty(exports, \"Pool\", ({ enumerable: true, get: function () { return Pool_1.Pool; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc2VxdWVsaXplLXBvb2wvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVksR0FBRyxzQkFBc0IsR0FBRyxvQkFBb0I7QUFDNUQscUJBQXFCLG1CQUFPLENBQUMsK0VBQWdCO0FBQzdDLGdEQUErQyxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUM5SCx1QkFBdUIsbUJBQU8sQ0FBQyxtRkFBa0I7QUFDakQsa0RBQWlELEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDO0FBQ3BJLGFBQWEsbUJBQU8sQ0FBQywrREFBUTtBQUM3Qix3Q0FBdUMsRUFBRSxxQ0FBcUMsdUJBQXVCLEVBQUM7QUFDdEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWR3b29kZm9udC8uL25vZGVfbW9kdWxlcy9zZXF1ZWxpemUtcG9vbC9saWIvaW5kZXguanM/MmYzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9vbCA9IGV4cG9ydHMuQWdncmVnYXRlRXJyb3IgPSBleHBvcnRzLlRpbWVvdXRFcnJvciA9IHZvaWQgMDtcbnZhciBUaW1lb3V0RXJyb3JfMSA9IHJlcXVpcmUoXCIuL1RpbWVvdXRFcnJvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRpbWVvdXRFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gVGltZW91dEVycm9yXzEuVGltZW91dEVycm9yOyB9IH0pO1xudmFyIEFnZ3JlZ2F0ZUVycm9yXzEgPSByZXF1aXJlKFwiLi9BZ2dyZWdhdGVFcnJvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkFnZ3JlZ2F0ZUVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBBZ2dyZWdhdGVFcnJvcl8xLkFnZ3JlZ2F0ZUVycm9yOyB9IH0pO1xudmFyIFBvb2xfMSA9IHJlcXVpcmUoXCIuL1Bvb2xcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQb29sXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBQb29sXzEuUG9vbDsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/sequelize-pool/lib/index.js\n");

/***/ })

};
;